<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Comparateur d'horaires - Lego-TEC</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="/index.css">
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"></script>
    <script>
      window.scrollTop = function() {
        $('html, body').animate({
          scrollTop: $("#form").offset().top
        }, 500);
      }
    </script>
</head>
  <body>
    <form
      id="form"
      method="GET"
      action="/#timelines">
        <header
          class="titles">
          <h2>Observatoire du redéploiement TEC</h2>
          <h1>Comparateur d'horaires</h1>
        </header>
        <header
          class="controls">
          <div
            class="form-group">
            <label
              for="from-select">
              Depuis
            </label>
            <select
              id="from-select"
              class="form-control"
              name="from">
              {{#stops}}
              <option
                value="{{bs_name}}"
                {{#is_from}}selected{{/is_from}}>
                {{bs_name}}
              </option>
              {{/stops}}
            </select>
          </div>
          <div
            class="form-group">
            <label
              for="to-select">
              Vers
            </label>
            <select
              id="to-select"
              class="form-control"
              name="to">
              {{#stops}}
              <option
                value="{{bs_name}}"
                {{#is_to}}selected{{/is_to}}>
                {{bs_name}}
              </option>
              {{/stops}}
            </select>
          </div>
          <div
            class="form-group">
            <label
              for="days-select">
              Jour
            </label>
            <select
              id="days-select"
              class="form-control"
              name="day">
              {{#days}}
              <option
                value="{{day_num}}"
                {{#is_day}}selected{{/is_day}}>
                {{day_name}}
              </option>
              {{/days}}
            </select>
          </div>
          <div
            class="form-group">
            <label
              for="variants-select">
              Période
            </label>
            <select
              id="variants-select"
              class="form-control"
              name="variant">
              {{#variants}}
              <option
                value="{{bl_variant}}"
                {{#is_variant}}selected{{/is_variant}}>
                {{bl_variant}}
              </option>
              {{/variants}}
            </select>
          </div>
          <div
            class="form-group">
            <label
              for="min-hour">
              Heure de début
            </label>
            <select
              id="min-hour"
              class="form-control"
              name="min-hour">
              {{#hours}}
              <option
                value="{{hour}}"
                {{#is_min_hour}}selected{{/is_min_hour}}>
                {{hour}}
              </option>
              {{/hours}}
            </select>
          </div>
          <div
            class="form-group">
            <label
              for="max-hour">
              Heure de fin
            </label>
            <select
              id="max-hour"
              class="form-control"
              name="max-hour">
              {{#hours}}
              <option
                value="{{hour}}"
                {{#is_max_hour}}selected{{/is_max_hour}}>
                {{hour}}
              </option>
              {{/hours}}
            </select>
          </div>
          <div
            class="form-group">
            <label>&nbsp;</label>
            <button
              type="submit"
              class="form-control">
              Soumettre
            </button>
          </div>
        </header>
        <main
          id="timelines">
          <h3>Horaires des lignes*</h3>
          {{^empty}}
            <table
              class="table table-bordered table-hover table-sm">
              <thead
                class="thead-dark">
                <tr>
                  <th></th>
                  {{#slots}}
                  <th class="center">{{bs_slot_human}}</th>
                  {{/slots}}
                </tr>
              </thead>
              {{#systems}}
              <thead
                class="thead-light">
                <tr
                  class="reverse">
                  <th
                    class="left"
                    colspan="{{full_colspan}}">
                    {{bl_system}}
                  </th>
                </tr>
              </thead>
              <tbody>
                {{#lines}}
                <tr>
                  <td
                    class="right bold">
                    {{b_name}}
                  </td>
                  {{#slots}}
                  <td
                    class="right">
                    {{#buses}}
                      {{bs_time_human}}<br/>
                    {{/buses}}
                  </td>
                  {{/slots}}
                </tr>
                {{/lines}}
              </tbody>
              {{/systems}}
            </table>
          {{/empty}}
          {{#empty}}
            <div class="alert alert-primary" role="alert">
              <p>Il n'existe aucune données pour ce trajet, veuillez choisir d'autre arrêts.</p>
              <p>Avant de tirer des conclusions, merci de tenir compte des éléments suivants:</p>
              <ul>
                <li>Seules les lignes 147a, 247a, 347a, 831, 832, 833, E83 et E85 sont prises en compte actuellement.</li>
                <li>Le TEC à la demande n'est pas pris en compte ici et peut offrir une solution de remplacement.</li>
                <li>L'outil n'est pas un planificateur de trajet: seuls les trajets empruntant une seule ligne de bus sont pris en compte.</li>
              </ul>
            </div>
          {{/empty}}
        </main>
        <button
          class="form-control"
          onclick="window.scrollTop()">
          Retour
        </button>
        <footer>
          <div>
            Une initiative
            <a href="https://www.facebook.com/groups/729876525065680/" target="_blank">Mobilisés pour notre Mobilité!</a>
          </div>
          <div>
            Aucun cookie, aucune donnée personnelle.
          </div>
          <div>
            Code open source <a href="https://github.com/enspirit/lego-tec" target="_blank">sur github</a>.
          </div>
          <div>
            Avec le soutien d'<a href="https://enspirit.be" target="_blank">Enspirit</a>.
          </div>
          <div>
            Contact: blambeau @ enspirit.be
          </div>
          <div>
            Mis à jour le 13 sept. 2023
          </div>
        </footer>
    </form>
  </body>
</html>
