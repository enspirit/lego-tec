<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Comparateur d'horaires - Lego-TEC</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <style>
      body {
        margin: 1%;
        font-size: 15px;
      }
      table {
        width: 100%;
        font-size: 13px;
      }
      .center {
        text-align: center;
      }
      .left {
        text-align: left;
      }
      .right {
        text-align: right;
      }
      .bold {
        font-weight: bold;
      }
      header {
        display: flex;
        margin: 20px 0 50px 0;
      }
      header > div {
        display: flex;
        flex-direction: column;
      }
      header > div + div {
        margin-left: 20px;
      }
    </style>
  </head>
  <body>
    <form
      method="GET"
      action="/">
        <header>
          <div
            class="form-group">
            <label
              for="from-select">
              Depuis
            </label>
            <select
              id="from-select"
              class="form-control"
              name="from">
              {{#stops}}
              <option
                value="{{bs_name}}"
                {{#is_from}}selected{{/is_from}}>
                {{bs_name}}
              </option>
              {{/stops}}
            </select>
          </div>
          <div
            class="form-group">
            <label
              for="to-select">
              Vers
            </label>
            <select
              id="to-select"
              class="form-control"
              name="to">
              {{#stops}}
              <option
                value="{{bs_name}}"
                {{#is_to}}selected{{/is_to}}>
                {{bs_name}}
              </option>
              {{/stops}}
            </select>
          </div>
          <div
            class="form-group">
            <label
              for="days-select">
              Jour
            </label>
            <select
              id="days-select"
              class="form-control"
              name="days">
              {{#days}}
              <option
                value="{{bl_days}}"
                {{#is_days}}selected{{/is_days}}>
                {{bl_days}}
              </option>
              {{/days}}
            </select>
          </div>
          <div
            class="form-group">
            <label
              for="variants-select">
              Période
            </label>
            <select
              id="variants-select"
              class="form-control"
              name="variant">
              {{#variants}}
              <option
                value="{{bl_variant}}"
                {{#is_variant}}selected{{/is_variant}}>
                {{bl_variant}}
              </option>
              {{/variants}}
            </select>
          </div>
          <div
            class="form-group">
            <label
              for="min-hour">
              Heure de début
            </label>
            <input
              id="min-hour"
              class="form-control"
              type="number"
              min="0"
              max="24"
              name="min-hour"
              value="{{min_hour}}">
          </div>
          <div
            class="form-group">
            <label
              for="max-hour">
              Heure de fin
            </label>
            <input
              id="max-hour"
              class="form-control"
              type="number"
              min="0"
              max="24"
              name="max-hour"
              value="{{max_hour}}">
          </div>
          <div
            class="form-group">
            <label>&nbsp;</label>
            <button
              type="submit"
              class="form-control">
              Soumettre
            </button>
          </div>
        </header>
        <main>
          <table
            class="table table-bordered table-hover table-sm">
            <thead
              class="thead-dark">
              <tr>
                <th></th>
                {{#slots}}
                <th class="center">{{bs_slot_human}}</th>
                {{/slots}}
              </tr>
            </thead>
            {{#systems}}
            <thead
              class="thead-light">
              <tr
                class="reverse">
                <th
                  class="left" 
                  colspan="{{full_colspan}}">
                  {{bl_system}}
                </th>
              </tr>
            </thead>
            <tbody>
              {{#lines}}
              <tr>
                <td
                  class="right bold">
                  {{b_name}}
                </td>
                {{#slots}}
                <td
                  class="right">
                  {{#buses}}
                    {{bs_time_human}}<br/>
                  {{/buses}}
                </td>
                {{/slots}}
              </tr>
              {{/lines}}
            </tbody>
            {{/systems}}
          </table>  
        </main>
    </form>
  </body>
</html>
